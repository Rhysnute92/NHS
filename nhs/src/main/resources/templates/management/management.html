<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <title>Treatment Plan</title>
    <!-- Load Bootstrap CSS first -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />

    <!-- Load custom stylesheets after Bootstrap -->
    <link rel="stylesheet" th:href="@{/css/common/main.css}" />
    <link rel="stylesheet" th:href="@{/css/management/management.css}" />

    <!-- Include the necessary libraries for DataTables and Chart.js -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Include Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Load any additional custom scripts -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div th:replace="~{common/fragments/header}"></div>
    <nav th:replace="~{common/fragments/navbar}" class="nav"></nav>
    <div class="management-container">
      <div class="management-title-container">
        <h1 class="management-desktop-title">My Lymphoedema Management Plan</h1>
        <p class="management-desktop-subtitle">
          Find support, your tasks, and information for your lymphoedema
          management plan. Find support, your tasks, and information for your
          lymphoedema management plan.
        </p>
      </div>
      <section class="collapsible urgent-care-plan">
        <h2 class="collapsible-header">Urgent Care Plan</h2>
        <div class="collapsible-content">
          <div class="emergency-contacts">
            <h3>Emergency Contacts</h3>
            <ul>
              <li>Healthcare Provider: 02920123456</li>
              <li>Family Member: +44 123 456 789</li>
            </ul>
          </div>
          <div class="immediate-steps">
            <h3>Immediate Steps for Acute Symptoms</h3>
            <ul>
              <li>Infection signs: Contact healthcare provider immediately.</li>
              <li>
                Severe swelling: Follow the emergency swelling management steps.
              </li>
            </ul>
          </div>
        </div>
      </section>
      <section class="collapsible my-health-tasks">
        <h2 class="collapsible-header">My Health Actions</h2>
        <div class="collapsible-content">
          <div class="action-item">
            <h3>Your Questionnaires</h3>
            <div class="assigned-questionnaires">
              <h3>Assigned Questionnaires</h3>
              <div id="questionnaire-container" class="questionnaire-container">
                <!-- If there is a questionnaire assigned it'll be inserted here-->
              </div>
              <!-- If no questionnaire is assigned -->
              <div
                id="no-assignment"
                class="questionnaire-item no-assignment"
                style="display: none"
              >
                <p>No questionnaires assigned at the moment.</p>
              </div>
            </div>
            <!-- questionnaire results fragment here -->
            <div
              th:insert="~{fragments/results_charts/questionnaireResults :: questionnaireResults}"
            ></div>
          </div>

          <div class="action-item">
            <h3>Your Tasks</h3>
            <div class="tasks-container">
              <!-- Task cards populated here -->
            </div>
          </div>
        </div>
      </section>

      <section class="collapsible your-treatment-plan">
        <h2 class="collapsible-header">Your Treatment Plan</h2>
        <div class="collapsible-content">
          <div class="treatment-item">
            <h3>Diet and Nutrition</h3>
            <ul>
              <li>Anti-inflammatory diet</li>
              <li>Hydration guidelines</li>
            </ul>
          </div>
          <div class="treatment-item">
            <h3>Exercise Plans</h3>
            <ul>
              <li>Daily exercises</li>
              <li>Activity recommendations</li>
            </ul>
          </div>
          <!-- Add more treatment items as needed -->
        </div>
      </section>
    </div>
    <script th:src="@{/js/common/header.js}"></script>
    <script type="module" th:src="@{/js/management/management.js}"></script>
  </body>
</html>
